// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  name     String?
  password String
}

model Cast {
  // id
  // name
}

// Cast A
//
// Cast B
//
// Movie alpha
// Movie beta
//
// CastItemRelation records
// A Alpha actor
// B alpha director
// A Beta director, actor
//
// model CastItemRelation {
//   // <cast, item>
//   // cast  @related to Cast[id]
//   // item @related to Item[id]
//   // relation string
// }

// Define an abstract model called `Item` that serves as the base for movies, books, and songs.
model Item {
  id       Int    @id @default(autoincrement())
  itemType String // This field specifies the type of item (e.g., "movie", "book", "song")
  movie    Movie? @relation("MovieItem")
  book     Book?  @relation("BookItem")
  song     Song?  @relation("songItem")
  title    String
  genre    String
  country         String?
  publicationDate DateTime
}

// Define specific models for movies, books, and songs.
model Movie {
  id       Int @relation(fields: [itemId], references: [id]) // itemId      Int
  duration Int
}

model Book {
  id    Int  @relation(fields: [itemId], references: [id])
  pages Int?
  itemId          Int      @id
}

model Song {
  id    Int     @relation(fields: [itemId], references: [id])
  album String?
}
